<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/html

    <Directory /var/www/html>
        Options All
        AllowOverride All
        Require all granted
    </Directory>

    # index.phpへのフォールバック
    DirectoryIndex index.php

    # mod_proxy_fcgi を使ってPHP-FPMへリクエストを転送
    <FilesMatch \.php$>
        # php-fpmコンテナのホスト名とポート番号を指定
        #SetHandler "proxy:fcgi://php-fpm:9000"
        SetHandler "proxy:unix:/var/run/php-fpm.sock|fcgi://localhost/"
    </FilesMatch>

    ErrorLog /var/log/apache2/error.log
    CustomLog /var/log/apache2/access.log combined
    #ErrorLog ${APACHE_LOG_DIR}/error.log
    #CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
